<!DOCTYPE html>
<html>
  <head>
    <title>2D Directed Graph with Labels</title>
    <style>
      body {
        font-family: "Inter", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f0f2f5;
      }
      .container {
        text-align: center;
        background-color: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      h1 {
        margin-top: 0;
        color: #333;
      }
      svg {
        border: 1px solid #ddd;
        border-radius: 8px;
      }
      .node-label {
        font-size: 14px;
        font-weight: 500;
        fill: #fff; /* White for contrast inside nodes */
        text-anchor: middle; /* Horizontally center the text */
        dominant-baseline: middle; /* Vertically center the text */
      }
      .edge-label {
        font-size: 12px;
        font-weight: 500;
        fill: #fff; /* White for contrast on dots */
        text-anchor: middle;
        dominant-baseline: middle; /* Vertically center the text */
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("svg").forEach((svg) => {
          svg.querySelectorAll("path[data-label]").forEach((path) => {
            const pathLength = path.getTotalLength();
            const midPoint = path.getPointAtLength(pathLength / 2);

            const color = path.getAttribute("stroke") || "black";

            // Create a new circle for each path
            const circle = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "circle"
            );
            circle.setAttribute("cx", midPoint.x);
            circle.setAttribute("cy", midPoint.y);
            circle.setAttribute("r", 11);
            circle.setAttribute("fill", color);

            // Create a new text element
            const text = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "text"
            );
            text.setAttribute("x", midPoint.x);
            text.setAttribute("y", midPoint.y);
            text.setAttribute("class", "edge-label");
            text.textContent = path.dataset.label || "";

            svg.appendChild(circle);
            svg.appendChild(text);
          });
        });
      });
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Before</h1>
      <svg width="400" height="400" viewBox="0 0 400 400">
        <!-- 
              Marker for the arrowhead.
            -->
        <defs>
          <marker
            id="arrowhead"
            viewBox="0 0 10 10"
            refX="8"
            refY="5"
            markerWidth="4"
            markerHeight="4"
            orient="auto-start-reverse"
          >
            <path
              d="M 0 0 L 10 5 L 0 10 z"
              fill="context-stroke"
              stroke-width="context-stroke-width"
            ></path>
          </marker>
        </defs>

        <path
          data-label="1a"
          d="M 150 200 Q 200 230 235 200"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <path
          data-label="1b"
          d="M 150 200 Q 95 235 107 289"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <path
          data-label="1c"
          d="M 150 200 Q 155 135 107 111"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="150" cy="200" r="15" fill="#28a745"></circle>
        <text x="150" y="200" class="node-label">1</text>

        <path
          data-label="2a"
          d="M 250 200 Q 200 170 165 200"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <path
          data-label="2b"
          d="M 250 200 Q 305 165 293 111"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <path
          data-label="2c"
          d="M 250 200 Q 245 265 293 289"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="250" cy="200" r="15" fill="#dc3545"></circle>
        <text x="250" y="200" class="node-label">2</text>

        <path
          data-label="3a"
          d="M 100 100 Q 95 165 143 188"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="100" cy="100" r="15" fill="#007bff"></circle>
        <text x="100" y="100" class="node-label">3</text>

        <path
          data-label="4a"
          d="M 300 100 Q 245 135 257 188"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="300" cy="100" r="15" fill="#007bff"></circle>
        <text x="300" y="100" class="node-label">4</text>

        <path
          data-label="5a"
          d="M 100 300 Q 155 265 143 212"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="100" cy="300" r="15" fill="#007bff"></circle>
        <text x="100" y="300" class="node-label">5</text>

        <path
          data-label="6a"
          d="M 300 300 Q 305 235 257 212"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead)"
        ></path>
        <circle cx="300" cy="300" r="15" fill="#007bff"></circle>
        <text x="300" y="300" class="node-label">6</text>

      </svg>
    </div>
    <div class="container">
      <h1>After</h1>
      <svg width="400" height="400" viewBox="0 0 400 400">
        <!-- 
              Marker for the arrowhead.
            -->
        <defs>
          <marker
            id="arrowhead-after"
            viewBox="0 0 10 10"
            refX="8"
            refY="5"
            markerWidth="4"
            markerHeight="4"
            orient="auto-start-reverse"
          >
            <path
              d="M 0 0 L 10 5 L 0 10 z"
              fill="context-stroke"
              stroke-width="context-stroke-width"
            ></path>
          </marker>
        </defs>

        <path
          data-label="1a"
          d="M 200 250 Q 235 305 289 293"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <path
          data-label="1b"
          d="M 200 250 Q 135 245 111 293"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <path
          data-label="1c"
          d="M 200 250 Q 230 200 200 165"
          stroke="#28a745"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>

        <circle cx="200" cy="250" r="15" fill="#28a745"></circle>
        <text x="200" y="250" class="node-label">1</text>

        <path
          data-label="2a"
          d="M 200 150 Q 165 95 111 107"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <path
          data-label="2b"
          d="M 200 150 Q 265 155 289 107"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <path
          data-label="2c"
          d="M 200 150 Q 170 200 200 235"
          stroke="#dc3545"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <circle cx="200" cy="150" r="15" fill="#dc3545"></circle>
        <text x="200" y="150" class="node-label">2</text>

        <path
          data-label="3a"
          d="M 100 100 Q 135 155 188 143"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <circle cx="100" cy="100" r="15" fill="#007bff"></circle>
        <text x="100" y="100" class="node-label">3</text>

        <path
          data-label="4a"
          d="M 300 100 Q 235 95 212 143"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <circle cx="300" cy="100" r="15" fill="#007bff"></circle>
        <text x="300" y="100" class="node-label">4</text>

        <path
          data-label="5a"
          d="M 100 300 Q 165 305 188 257"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <circle cx="100" cy="300" r="15" fill="#007bff"></circle>
        <text x="100" y="300" class="node-label">5</text>

        <path
          data-label="6a"
          d="M 300 300 Q 265 245 212 257"
          stroke="#007bff"
          stroke-width="4"
          fill="none"
          marker-end="url(#arrowhead-after)"
        ></path>
        <circle cx="300" cy="300" r="15" fill="#007bff"></circle>
        <text x="300" y="300" class="node-label">6</text>

      </svg>
    </div>
  </body>
</html>
